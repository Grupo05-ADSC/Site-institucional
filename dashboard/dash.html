<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DASHBOARD - SISGUARD</title>

    <link rel="stylesheet" href="dash.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" 
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="http://bernii.github.io/gauge.js/dist/gauge.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/justgage/1.4.0/justgage.min.js"></script>

</head>

<body>
    <nav class="menuLateral">
        <div class="boxLogo">
            <img class="imagem" src="./logoSISGUARD.png" alt="">
        </div>
        <div class="boxTitulo"> Olá, nome! </div>
        <div class="menu">

            <div class="menuGraficos">
                <div class="iconGraficos">
                    <span class="material-symbols-outlined"> monitoring </span>
                </div>
                <div class="boxTextoMenu"> Gráficos </div>
            </div>

            <div class="menuPerfil">
                <div class="iconPerfil">
                    <span class="material-symbols-outlined"> warehouse </span>
                </div>
                <div class="boxTextoMenu"> Dark store </div>
            </div>

            <div class="menuPerfil">
                <div class="iconPerfil">
                    <span class="material-symbols-outlined"> computer </span>
                </div>
                <div class="boxTextoMenu"> Máquinas </div>
            </div>

            <div class="menuPerfil" onclick="openListaFuncionarios()">
                <div class="iconPerfil">
                    <span class="material-symbols-outlined"> groups </span>
                </div>
                <div class="boxTextoMenu"> Funcionários </div>
            </div>

            <div class="menuPerfil">
                <div class="iconPerfil">
                    <span class="material-symbols-outlined"> person </span>
                </div>
                <div class="boxTextoMenu"> Perfil </div>
            </div>

            <div class="boxSair">
                <span class="material-symbols-outlined"> logout </span>
                <b class="sair">sair</b>
            </div>
        </div>
    </nav>

    <div class="linha1">
        <div class="box1">
            <select id="darkStoreSelect">
                <option value="darkStore1">Dark Store</option>
                <option value="darkStore1">Dark Store 1</option>
                <option value="darkStore2">Dark Store 2</option>
                <option value="darkStore3">Dark Store 3</option>
                <option value="darkStore4">Dark Store 4</option>
                <option value="darkStore5">Dark Store 5</option>
            </select>
        </div>
        <div class="box1">
            <select id="computerSelect">
                <option value="computer1">Máquina</option>
                <option value="computer2">Máquina 1</option>
                <option value="computer3">Máquina 2</option>
                <option value="computer4">Máquina 3</option>
                <option value="computer5">Máquina 4</option>
                <option value="computer6">Máquina 5</option>
            </select>
        </div>
        <div class="box2">
            Total de Threads
            <h1>4</h1>
        </div>
        <div class="box2">
            Processos Abertos
            <h1>31</h1>
        </div>
        <div class="box3">
            <b id="titulo">Espaço de Disco</b>
            <div class="legenda">
                <div class="legenda1"></div>disponivel
                <div class="legenda2"></div>Usado
            </div>
            <canvas id="donutChart"></canvas>
        </div>
    </div>

    <div class="linha2">
        <div class="indicadores">
            <div class="cardMetrica">
                <div class="legendaGauge">
                    <div class="legenda1"></div>Ótimo
                    <div class="legenda2"></div>Bom
                    <div class="legenda3"></div>Atenção
                    <div class="legenda4"></div>Alerta
                    <div class="legenda5"></div>Crítico
                </div>
                <div class="cardGauge">
                    <div class="box">
                        <span id="uso_atual1"></span>
                        <canvas id="gauge1" class="gauge">
                        </canvas>
                        <script type="text/javascript">
                            var uso = 12;//pegar valor de uso direto do banco
                            var opts = {
                                angle: 0,
                                lineWidth: 0.5,
                                radiusScale: 0.9, // Raio relativo
                                pointer: {
                                    length: 0.5, // Relativo ao raio do Gauge
                                    strokeWidth: 0.02, // Largura do traço
                                    color: '#000000' // Cor do ponteiro
                                },
                                generateGradient: true,
                                highDpiSupport: true,
                                staticZones: [
                                    { strokeStyle: "#1EA614", min: 0, max: 30 }, // Ótimo (Verde)
                                    { strokeStyle: "#9FCC00", min: 30, max: 50 }, // Bom (Amarelo)
                                    { strokeStyle: "#FFF001", min: 50, max: 70 }, // Atenção (Laranja)
                                    { strokeStyle: "#FFAF00", min: 70, max: 90 }, // Alerta (Vermelho)
                                    { strokeStyle: "#FE2B00", min: 90, max: 100 } // Crítico (Vermelho escuro)
                                ],
                                staticLabels: {
                                    font: "12px sans-serif", // Especifica a fonte dos rótulos
                                    labels: [0, 30, 50, 70, 90, 100], // Rótulos nas divisórias das cores
                                    color: "#b6b6b6", // Cor do texto do rótulo
                                    fractionDigits: 0 // Precisão numérica. 0 = arredondar
                                }
                            };
                            var target = document.getElementById('gauge1'); // Elemento onde o gauge deve ser criado
                            var gauge = new Gauge(target).setOptions(opts); // Criar gauge
                            gauge.maxValue = 100; // Valor maximo
                            gauge.setMinValue(0);  // Valor minimo
                            gauge.animationSpeed = 32; // Velocidade da animacao
                            gauge.set(uso); // Valor a ser exibido
                            document.getElementById('uso_atual1').innerHTML = uso + '<b> % CPU </b>';

                            //tentando atualizar gauge1 - cpu
                            function atualizarGauge(uso, gauge, uso_atual) {
                                var novoValor = Math.floor(Math.random() * (12 - 8 + 1)) + 8; // Gerar número aleatório entre 8 e 12
                                gauge.refresh(novoValor);
                                uso_atual.innerHTML = novoValor + '<b> % CPU </b>';
                            }

                            var opts1 = { /* opções do medidor 1 */ };
                            var target1 = document.getElementById('gauge1');
                            var gauge1 = new JustGage({
                                id: 'gauge1',
                                options: opts1
                            });

                            var uso_atual1 = document.getElementById('uso_atual1');

                            setInterval(function () {
                                atualizarGauge(12, gauge1, uso_atual1);
                            }, 1000);
                        </script>
                    </div>
                    <div class="box">
                        <span id="uso_atual2"></span>
                        <canvas id="gauge2" class="gauge">
                        </canvas>

                        <script type="text/javascript">
                            var uso = 52;//pegar valor de uso direto do banco
                            var opts = {
                                angle: 0,
                                lineWidth: 0.5,
                                radiusScale: 0.8, // Raio relativo
                                pointer: {
                                    length: 0.7, // Relativo ao raio do Gauge
                                    strokeWidth: 0.04, // Largura do traço
                                    color: '#000000' // Cor do ponteiro
                                },
                                generateGradient: true,
                                highDpiSupport: true,
                                staticZones: [
                                    { strokeStyle: "#1EA614", min: 0, max: 40 }, // Ótimo (Verde)
                                    { strokeStyle: "#9FCC00", min: 40, max: 60 }, // Bom (Amarelo)
                                    { strokeStyle: "#FFF001", min: 60, max: 80 }, // Atenção (Laranja)
                                    { strokeStyle: "#FFAF00", min: 80, max: 90 }, // Alerta (Vermelho)
                                    { strokeStyle: "#FE2B00", min: 90, max: 100 } // Crítico (Vermelho escuro)
                                ],
                                staticLabels: {
                                    font: "12px sans-serif", // Especifica a fonte dos rótulos
                                    labels: [0, 40, 60, 80, 90, 100], // Rótulos nas divisórias das cores
                                    color: "#b6b6b6", // Cor do texto do rótulo
                                    fractionDigits: 0 // Precisão numérica. 0 = arredondar
                                }
                            };
                            var target = document.getElementById('gauge2'); // Elemento onde o gauge deve ser criado
                            var gauge = new Gauge(target).setOptions(opts); // Criar gauge
                            gauge.maxValue = 100; // Valor maximo
                            gauge.setMinValue(0);  // Valor minimo
                            gauge.animationSpeed = 32; // Velocidade da animacao
                            gauge.set(uso); // Valor a ser exibido
                            document.getElementById('uso_atual2').innerHTML = uso + '<b> % RAM </b>';    
                        </script>
                    </div>
                    <div class="box">
                        <span id="uso_atual3"></span>
                        <canvas id="gauge3" class="gauge">
                        </canvas>

                        <script type="text/javascript">
                            var uso = 45;//pegar valor de uso direto do banco
                            var opts = {
                                angle: 0,
                                lineWidth: 0.5,
                                radiusScale: 0.8, // Raio relativo
                                pointer: {
                                    length: 0.7, // Relativo ao raio do Gauge
                                    strokeWidth: 0.04, // Largura do traço
                                    color: '#00000' // Cor do ponteiro
                                },
                                generateGradient: true,
                                highDpiSupport: true,
                                staticZones: [
                                    { strokeStyle: "#1EA614", min: 0, max: 40 }, // Ótimo (Verde)
                                    { strokeStyle: "#9FCC00", min: 40, max: 60 }, // Bom (Amarelo)
                                    { strokeStyle: "#FFF001", min: 60, max: 80 }, // Atenção (Laranja)
                                    { strokeStyle: "#FFAF00", min: 80, max: 90 }, // Alerta (Vermelho)
                                    { strokeStyle: "#FE2B00", min: 90, max: 100 } // Crítico (Vermelho escuro)
                                ],
                                staticLabels: {
                                    font: "12px sans-serif", // Especifica a fonte dos rótulos
                                    labels: [0, 40, 60, 80, 90, 100], // Rótulos nas divisórias das cores
                                    color: "#b6b6b6", // Cor do texto do rótulo
                                    fractionDigits: 0 // Precisão numérica. 0 = arredondar
                                }
                            };
                            var target = document.getElementById('gauge3'); // Elemento onde o gauge deve ser criado
                            var gauge = new Gauge(target).setOptions(opts); // Criar gauge
                            gauge.maxValue = 100; // Valor maximo
                            gauge.setMinValue(0);  // Valor minimo
                            gauge.animationSpeed = 32; // Velocidade da animacao
                            gauge.set(uso); // Valor a ser exibido
                            document.getElementById('uso_atual3').innerHTML = uso + '<b> % Disco </b>';    
                        </script>
                    </div>
                </div>
            </div>
            <div class="card_alerta">
                <div class="titulo_icon">
                    <div class="titulo_alerta">Alertas</div>
                    <span class="material-symbols-outlined">
                        notifications_active
                    </span>
                </div>
                <div class="box">
                    aqui vai ficar os alertas
                </div>
            </div>

        </div>

        <div class="lista-funcionarios">
            <div class="pop-up">
                <div class="titulo">
                    <h1>Funcionários</h1>
                    <img src="../img/icone-x.png" onclick="exitListaFuncionarios()"  alt="">
                </div>
    
                <div class="conteudo">
                    <div class="funcionario">
                        <div class="ID">
                            <h2>ID</h2>
                            <p>1</p>
                        </div>
    
                        <div class="Nome">
                            <h2>Nome</h2>
                            <p>Jubileu</p>
                        </div> 
                        
                        <div class="E-mail">
                            <h2>ID</h2>
                            <p>jubileu@gmail.com</p>
                        </div>
                        <span></span> 
                    </div>
                    <div class="funcionario">
                        <div class="ID">
                            <h2>ID</h2>
                            <p>1</p>
                        </div>
    
                        <div class="Nome">
                            <h2>Nome</h2>
                            <p>Jubileu</p>
                        </div> 
                        
                        <div class="E-mail">
                            <h2>ID</h2>
                            <p>jubileu@gmail.com</p>
                        </div>
                        <span></span> 
                    </div>
    
                    <div class="funcionario">
                        <div class="ID">
                            <h2>ID</h2>
                            <p>1</p>
                        </div>
    
                        <div class="Nome">
                            <h2>Nome</h2>
                            <p>Jubileu</p>
                        </div> 
                        
                        <div class="E-mail">
                            <h2>ID</h2>
                            <p>jubileu@gmail.com</p>
                        </div>
                        <span></span> 
                    </div>

                    <div class="funcionario">
                        <div class="ID">
                            <h2>ID</h2>
                            <p>1</p>
                        </div>
    
                        <div class="Nome">
                            <h2>Nome</h2>
                            <p>Jubileu</p>
                        </div> 
                        
                        <div class="E-mail">
                            <h2>ID</h2>
                            <p>jubileu@gmail.com</p>
                        </div>
                        <span></span> 
                    </div>

                    <div class="funcionario">
                        <div class="ID">
                            <h2>ID</h2>
                            <p>1</p>
                        </div>
    
                        <div class="Nome">
                            <h2>Nome</h2>
                            <p>Jubileu</p>
                        </div> 
                        
                        <div class="E-mail">
                            <h2>ID</h2>
                            <p>jubileu@gmail.com</p>
                        </div>
                        <span></span> 
                    </div>

                    <div class="funcionario">
                        <div class="ID">
                            <h2>ID</h2>
                            <p>1</p>
                        </div>
    
                        <div class="Nome">
                            <h2>Nome</h2>
                            <p>Jubileu</p>
                        </div> 
                        
                        <div class="E-mail">
                            <h2>ID</h2>
                            <p>jubileu@gmail.com</p>
                        </div>
                        <span></span> 
                    </div>
                </div>
            </div>
        </div>

        <div class="boxgraficos">
            <div class="graficos">
                <div class="grafico1">
                    <b id="titulo">Uso da CPU(%)</b>
                    <div style="width: 90%; height: 85%; margin: 0px 0px 0px 40px;">
                        <canvas id="lineChart1"></canvas>
                    </div>
                </div>
                <div class="grafico1">
                    <b id="titulo">Uso do DISCO(%)</b>
                    <div style="width: 90%; height: 85%; margin: 0px 0px 0px 40px;">
                        <canvas id="lineChart2"></canvas>
                    </div>
                </div>
            </div>
            <div class="graficos">
                <div class="grafico1">
                    <b id="titulo">Uso da RAM(%)</b>
                    <div style="width: 90%; height: 85%; margin: 0px 0px 0px 40px;">
                        <canvas id="lineChart3"></canvas>
                    </div>
                </div>
                <div class="grafico1">
                    <div class="box">
                        <b id="titulo">Processos com consumo elevado</b>
                        <button class="button">Ver mais</button>
                        <table>
                            <thead>
                              <tr>
                                <th>PID</th>
                                <th>%CPU</th>
                                <th>%RAM</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td>21</td>
                                <td>12</td>
                                <td>20</td>
                              </tr>
                              <tr>
                                <td>22</td>
                                <td>9</td>
                                <td>20</td>
                              </tr>
                              <tr>
                                <td>03</td>
                                <td>5</td>
                                <td>22</td>
                              </tr>
                            </tbody>
                          </table>
                    </div>
                    <!-- <div style="width: 90%; height: 85%; margin: 0px 0px 0px 40px;">
                        <canvas id="lineChart4"></canvas>
                    </div> -->
                </div>
            </div>
        </div>
    </div>

    <div class="linha3">
        <div class="box">
            <b>Total de Máquinas</b>
            <h1 class="destaque">27</h1>
        </div>
        <div class="box">
            <b>Máquinas Ativas</b>
            <h1 class="destaque">26</h1>
        </div>
        <div class="box">
            <b>Total de Funcionários</b>
            <h1 class="destaque">11</h1>
        </div>
    </div>


</body>

</html>
<script>

    // POPUPS

    var listaFuncionarios = document.querySelector('.lista-funcionarios');

    function openListaFuncionarios() {
        listaFuncionarios.style.display = "flex"
    }

    function exitListaFuncionarios() {
        listaFuncionarios.style.display = "none"
    }

    // GRAFICO DONUT
    var ctx = document.getElementById('donutChart').getContext('2d');
    var donutChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            datasets: [{
                data: [70, 30],
                backgroundColor: [
                    'rgba(54, 122, 235, 0.8)',
                    'rgba(153, 42, 255, 0.8)'
                ],
                borderWidth: 0
            }]
        },
        options: {
            title: {
                display: true,
                text: 'Espaço do Disco'
            },
            cutoutPercentage: 70
        }
    });


    // Gráfico da CPU
    var ctx1 = document.getElementById('lineChart1').getContext('2d');
    var lineChart1 = new Chart(ctx1, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Registros CPU',
                data: [],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                fill: true
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        min: 0,
                        max: 20,
                        stepSize: 5
                    }
                }]
            }
        }
    });

    setInterval(function () {
        updateCPUData(lineChart1);
    }, 1000);


    function updateCPUData(chart) {
        var now = new Date();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var time = (hour < 10 ? '0' : '') + hour + ':' + (minute < 10 ? '0' : '') + minute;

        chart.data.labels.push(time);
        if (chart.data.labels.length > 10) {
            chart.data.labels.shift();
            chart.data.datasets[0].data.shift();
        }
        chart.data.datasets[0].data.push(Math.floor(Math.random() * 10) + 8);
        chart.update();
    }

    // Gráfico do Disco
    var ctx2 = document.getElementById('lineChart2').getContext('2d');
    var lineChart2 = new Chart(ctx2, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Registros DISCO',
                data: [],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                fill: true
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        min: 0,
                        max: 20,
                        stepSize: 5
                    }
                }]
            }
        }
    });

    setInterval(function () {
        updateDiskData(lineChart2);
    }, 1000);

    function updateDiskData(chart) {
        var now = new Date();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var time = (hour < 10 ? '0' : '') + hour + ':' + (minute < 10 ? '0' : '') + minute;

        chart.data.labels.push(time);
        if (chart.data.labels.length > 10) {
            chart.data.labels.shift();
            chart.data.datasets[0].data.shift();
        }
        chart.data.datasets[0].data.push(Math.floor(Math.random() * 5));
        chart.update();
    }

    // Gráfico da RAM AQUI
    var ctx3 = document.getElementById('lineChart3').getContext('2d');
    var lineChart3 = new Chart(ctx3, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Registros RAM',
                data: [],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                fill: true
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        min: 35,
                        max: 50,
                        stepSize: 5
                    }
                }]
            }
        }
    });

    setInterval(function () {
        updateRAMData(lineChart3);
    }, 1000);

    function updateRAMData(chart) {
        var now = new Date();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var time = (hour < 10 ? '0' : '') + hour + ':' + (minute < 10 ? '0' : '') + minute;

        chart.data.labels.push(time);
        if (chart.data.labels.length > 10) {
            chart.data.labels.shift();
            chart.data.datasets[0].data.shift();
        }
        chart.data.datasets[0].data.push(Math.floor(Math.random() * 16) + 35);
        chart.update();
    }


    // Gráfico da REDE
    var ctx4 = document.getElementById('lineChart4').getContext('2d');
    var lineChart4 = new Chart(ctx4, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Registros REDE',
                data: [],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                fill: true
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        min: 35,
                        max: 50,
                        stepSize: 5
                    }
                }]
            }
        }
    });

    setInterval(function () {
        updateREDEData(lineChart4);
    }, 1000);

    function updateREDEData(chart) {
        var now = new Date();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var time = (hour < 10 ? '0' : '') + hour + ':' + (minute < 10 ? '0' : '') + minute;

        chart.data.labels.push(time);
        if (chart.data.labels.length > 10) {
            chart.data.labels.shift();
            chart.data.datasets[0].data.shift();
        }
        chart.data.datasets[0].data.push(Math.floor(Math.random() * 3001) + 6000);
        chart.update();
    }

    // parte da table de processos
    
</script>