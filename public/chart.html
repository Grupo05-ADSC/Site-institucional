<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DASHBOARD - SISGUARD</title>

    <link rel="stylesheet" href="./css/dash.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
</head>

<body>
    <nav class="menuLateral">
        <div class="boxLogo">
            <div class="logo">
                <img src="./img/logo-white.svg" alt="logo">
            </div>
        </div>
        <div class="boxTitulo"> Olá, nome! </div>
        <div class="menu">
            <div class="menuGraficos">
                <div class="iconGraficos">
                    <span class="material-symbols-outlined"> monitoring </span>
                </div>
                <div class="boxTextoMenu"> Gráficos </div>
            </div>

            <div class="menuTabelas">
                <div class="iconTabelas">
                    <span class="material-symbols-outlined"> toc </span>
                </div>
                <div class="boxTextoMenu"> Tabelas </div>
            </div>
            <div class="menuPerfil">
                <div class="iconPerfil">
                    <span class="material-symbols-outlined"> person </span>
                </div>
                <div class="boxTextoMenu"> Perfil </div>
            </div>
            <div class="boxSair">
                <span class="material-symbols-outlined"> logout </span>
                <b class="sair">sair</b>
            </div>
        </div>
    </nav>

    <div class="linha1">
        <div class="box1">
            <select id="darkStoreSelect">
                <option value="darkStore1">Dark Store</option>
                <option value="darkStore1">Dark Store 1</option>
                <option value="darkStore2">Dark Store 2</option>
                <option value="darkStore3">Dark Store 3</option>
                <option value="darkStore4">Dark Store 4</option>
                <option value="darkStore5">Dark Store 5</option>
            </select>
        </div>
        <div class="box1">
            <select id="computerSelect">
                <option value="computer1">Máquina</option>
                <option value="computer2">Máquina 1</option>
                <option value="computer3">Máquina 2</option>
                <option value="computer4">Máquina 3</option>
                <option value="computer5">Máquina 4</option>
                <option value="computer6">Máquina 5</option>
            </select>
        </div>
        <div class="box2">
            Total de Threads
            <h1>4</h1>
        </div>
        <div class="box2">
            Processos Abertos
            <h1>31</h1>
        </div>
        <div class="box3">
            <b id="titulo">Espaço de Disco</b>
            <div class="legenda">
                <div class="legenda1"></div>disponivel
                <div class="legenda2"></div>Usado
            </div>
            <canvas id="donutChart"></canvas>
        </div>
    </div>

    <div class="linha2">
        <div class="indicadores">
            <div class="legendaGauge">
                <div class="legenda1"></div>Ótimo
                <div class="legenda2"></div>Bom
                <div class="legenda3"></div>Atenção
                <div class="legenda4"></div>Alerta
                <div class="legenda5"></div>Crítico

            </div>
            GAUGE AQUI
        </div>
        <div class="boxgraficos">
            <div class="graficos">
                <div class="grafico1">
                    <b id="titulo">Uso da CPU(%)</b>
                    <div style="width: 90%; height: 85%; margin: 0px 0px 0px 40px;">
                        <canvas id="lineChart1"></canvas>
                    </div>
                </div>
                <div class="grafico1">
                    <b id="titulo">Uso do DISCO(%)</b>
                    <div style="width: 90%; height: 85%; margin: 0px 0px 0px 40px;">
                        <canvas id="lineChart2"></canvas>
                    </div>
                </div>
            </div>
            <div class="graficos">
                <div class="grafico1">
                    <b id="titulo">Uso da RAM(%)</b>
                    <div style="width: 90%; height: 85%; margin: 0px 0px 0px 40px;">
                        <canvas id="lineChart3"></canvas>
                    </div>
                </div>
                <div class="grafico1">
                    <b id="titulo">Uso da REDE</b>
                    <div style="width: 90%; height: 85%; margin: 0px 0px 0px 40px;">
                        <canvas id="lineChart4"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="linha3">
        <div class="box">
            <b>Total de Máquinas</b>
            <h1 class="destaque">27</h1>
        </div>
        <div class="box">
            <b>Máquinas Ativas</b>
            <h1 class="destaque">26</h1>
        </div>
        <div class="box">
            <b>Total de Funcionários</b>
            <h1 class="destaque">11</h1>
        </div>
    </div>


</body>

</html>
<script>
    // GRAFICO DONUT
    var ctx = document.getElementById('donutChart').getContext('2d');
    var donutChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            datasets: [{
                data: [70, 30],
                backgroundColor: [
                    'rgba(54, 122, 235, 0.8)', 
                    'rgba(153, 42, 255, 0.8)' 
                ]
            }]
        },
        options: {
            title: {
                display: true,
                text: 'Espaço do Disco'
            },
            cutoutPercentage: 70 
        }
    });


    // Gráfico da CPU
    var ctx1 = document.getElementById('lineChart1').getContext('2d');
    var lineChart1 = new Chart(ctx1, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Registros CPU',
                data: [],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                fill: true
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        min: 0,
                        max: 20,
                        stepSize: 5
                    }
                }]
            }
        }
    });

    setInterval(function() {
        updateCPUData(lineChart1);
    }, 1000);


    function updateCPUData(chart) {
        var now = new Date();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var time = (hour < 10 ? '0' : '') + hour + ':' + (minute < 10 ? '0' : '') + minute;

        chart.data.labels.push(time);
        if (chart.data.labels.length > 10) {
            chart.data.labels.shift();
            chart.data.datasets[0].data.shift();
        }
        chart.data.datasets[0].data.push(Math.floor(Math.random() * 10) + 8);
        chart.update();
    }

    // Gráfico do Disco
    var ctx2 = document.getElementById('lineChart2').getContext('2d');
    var lineChart2 = new Chart(ctx2, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Registros DISCO',
                data: [],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                fill: true
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        min: 0,
                        max: 20,
                        stepSize: 5
                    }
                }]
            }
        }
    });

    setInterval(function() {
        updateDiskData(lineChart2);
    }, 1000);

    function updateDiskData(chart) {
        var now = new Date();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var time = (hour < 10 ? '0' : '') + hour + ':' + (minute < 10 ? '0' : '') + minute;

        chart.data.labels.push(time);
        if (chart.data.labels.length > 10) {
            chart.data.labels.shift();
            chart.data.datasets[0].data.shift();
        }
        chart.data.datasets[0].data.push(Math.floor(Math.random() * 5));
        chart.update();
    }

    // Gráfico da RAM AQUI
    var ctx3 = document.getElementById('lineChart3').getContext('2d');
    var lineChart3 = new Chart(ctx3, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Registros RAM',
                data: [],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                fill: true
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        min: 35,
                        max: 50,
                        stepSize: 5
                    }
                }]
            }
        }
    });

    setInterval(function() {
        updateRAMData(lineChart3);
    }, 1000);

    function updateRAMData(chart) {
        var now = new Date();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var time = (hour < 10 ? '0' : '') + hour + ':' + (minute < 10 ? '0' : '') + minute;

        chart.data.labels.push(time);
        if (chart.data.labels.length > 10) {
            chart.data.labels.shift();
            chart.data.datasets[0].data.shift();
        }
        chart.data.datasets[0].data.push(Math.floor(Math.random() * 16) + 35);
        chart.update();
    }


    // Gráfico da REDE
    var ctx4 = document.getElementById('lineChart4').getContext('2d');
    var lineChart4 = new Chart(ctx4, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Registros REDE',
                data: [],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                fill: true
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        min: 35,
                        max: 50,
                        stepSize: 5
                    }
                }]
            }
        }
    });

    setInterval(function() {
        updateREDEData(lineChart4);
    }, 1000);

    function updateREDEData(chart) {
        var now = new Date();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var time = (hour < 10 ? '0' : '') + hour + ':' + (minute < 10 ? '0' : '') + minute;

        chart.data.labels.push(time);
        if (chart.data.labels.length > 10) {
            chart.data.labels.shift();
            chart.data.datasets[0].data.shift();
        }
        chart.data.datasets[0].data.push(Math.floor(Math.random() * 3001) + 6000);
        chart.update();
    }
</script>